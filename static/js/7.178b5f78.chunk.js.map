{"version":3,"sources":["components/Input/index.jsx","forms/ApproximatelyCalculateForm/helpers.js","forms/ApproximatelyCalculateForm/validationSchema.js","forms/ApproximatelyCalculateForm/index.jsx","components/Grid/Row.jsx","components/Grid/Col.jsx","components/FormRow/index.jsx","components/Button/index.jsx","constants/errors.js","components/Grid/styles.module.scss","components/InputSuggest/index.jsx","components/FormRow/styles.module.scss","components/Input/styles.module.scss","components/Button/styles.module.scss","components/InputSuggest/styles.module.scss","helpers/formatters.js","constants/regexps.js","helpers/validators.js","components/Suggest/option.jsx","components/Suggest/suggest.jsx","components/Suggest/index.js","components/Grid/index.js","components/Suggest/option.module.scss","components/Suggest/suggest.module.scss","components/Checkbox/index.jsx","components/Checkbox/styles.module.scss"],"names":["Input","forwardRef","props","ref","error","label","mask","value","onBlur","onChange","onFocus","otherProps","useState","hasFocus","setHasFocus","inputClass","cn","styles","Input__Input","Input__Input_error","labelTextClass","Input__LabelText","Input__LabelText_top","inputProps","className","e","target","Input__Label","Input__Error","defaultProps","name","data","parseFloatValue","parsedValue","String","replace","m","split","integer","fraction","parseInt","Number","isNaN","slice","CalculateSchema","Yup","fio","test","filter","val","trim","required","REQUIRED_MESSAGE","phone","VALIDATION_PHONE_ERROR","validatePhone","formatNumber","serialNumber","schema","parent","withPassportData","monthlySalary","getFakeOptions","Promise","resolve","id","surname","ApproximatelyCalculateForm","useForm","shouldFocusError","defaultValues","undefined","resolver","yupResolver","control","handleSubmit","watch","formState","useEffect","dirtyFields","onSubmit","handleFioChange","field","_","console","log","FormRow","Row","render","fieldState","InputSuggest","message","getOptionsMethod","Checkbox","checked","shouldUnregister","parseResult","formattedInteger","formatPriceNumber","Button","variant","children","Col","ERROR_MESSAGE_INVALID_EMAIL","module","exports","removeBackslash","_getOptionsTimeout","state","activeOptionId","isGettingOptions","isSuggestWrapperVisible","options","handleInputBlur","bind","handleInputChange","handleInputFocus","handleKeyDown","handleSuggestChange","handleSuggestItemHover","callGetOptions","getOptions","makeNextSuggestOptionActive","makePrevSuggestOptionActive","scrollToActiveOption","suggestClose","suggestOpen","blur","focus","this","setTimeout","setState","valueFormat","minLengthToCallGet","length","onEnter","keyCode","preventDefault","activeOption","find","o","inputWrapper","querySelector","nameFormat","clearTimeout","optionsToShow","then","stateProps","catch","activeOptionIndex","findIndex","activeOptionDOM","element","suggestListDOM","suggest","activeOptionClientRect","getBoundingClientRect","suggestListClientRect","suggestClientRect","isActiveOptionOutOfTheBoxTop","top","isActiveOptionOutOfTheBoxBottom","height","scrollTop","input","formatOption","componentClass","InputSuggest__Input","suggestWrapperClass","InputSuggest__SuggestWrapper","InputSuggest__SuggestWrapper_visible","suggestClass","InputSuggest__Suggest","el","onKeyDown","optionSearchMask","onItemHover","Component","option","query","count","fromSuggest","PHONE_REGEXP","Option","isActive","isValue","onClick","onMouseOver","Option_active","Option_value","Suggest","handleOptionClick","handleMouseOver","optionSearchMaskPrepared","Suggest__Options","map","nameWithHighlights","regexp","RegExp","match","Array","isArray","nameParts","matchIndex","forEach","part","push","Suggest__Option","labelClass","Checkbox__Label","Checkbox__Label_checked","type"],"mappings":"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","file":"static/js/7.178b5f78.chunk.js","sourcesContent":["import { useState, forwardRef } from 'react'\nimport PropTypes from 'prop-types'\nimport InputMask from 'react-input-mask'\nimport cn from 'classnames'\n\nimport styles from './styles.module.scss'\n\n// eslint-disable-next-line react/display-name\nconst Input = forwardRef((props, ref) => {\n  const {\n    error,\n    label,\n    mask,\n    value,\n    onBlur,\n    onChange,\n    onFocus,\n    ...otherProps\n  } = props\n\n  const [hasFocus, setHasFocus] = useState(false)\n\n  // Handlers\n  function handleBlur(...args) {\n    setHasFocus(false)\n    if (typeof onBlur === 'function') {\n      onBlur(...args)\n    }\n  }\n  function handleChange(e) {\n    onChange(e.target.value, props)\n  }\n  function handleFocus(...args) {\n    setHasFocus(true)\n    if (typeof onFocus === 'function') {\n      onFocus(...args)\n    }\n  }\n\n  const inputClass = cn(styles.Input__Input, {\n    [styles.Input__Input_error]: !!error,\n  })\n\n  const labelTextClass = cn(styles.Input__LabelText, {\n    [styles.Input__LabelText_top]: !!value || hasFocus,\n  })\n\n  const inputProps = {\n    ...otherProps,\n    className: inputClass,\n    ref,\n    value: value || '',\n    onBlur: handleBlur,\n    onChange: handleChange,\n    onFocus: handleFocus,\n  }\n\n  return (\n    <div className={styles.Input}>\n      <label className={styles.Input__Label}>\n        <span className={labelTextClass}>{label}</span>\n        {!mask && <input {...inputProps} />}\n        {!!mask && <InputMask {...inputProps} mask={mask} />}\n      </label>\n      {!!error && <div className={styles.Input__Error}>{error}</div>}\n    </div>\n  )\n})\n\nInput.propTypes = {\n  error: PropTypes.string,\n  label: PropTypes.string.isRequired,\n  mask: PropTypes.string,\n  value: PropTypes.string,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n}\nInput.defaultProps = {\n  error: null,\n  mask: null,\n  value: null,\n  onBlur: (props) => {},\n  onChange: (name, props, data) => {},\n  onFocus: (props) => {},\n}\n\nexport default Input\n","export const parseFloatValue = (value = '') => {\n  if (value === null) return [null, null]\n\n  const parsedValue = String(value)\n    // 1. replace all commas to dots\n    .replace(/,/g, '.')\n    // 2. replace all symbols except numbers, dots and dashes to \"\"\n    .replace(/[^\\d.-]/g, '')\n    // 3. replace all dots except the first one to \"\"\n    .replace(\n      /\\./g,\n      (\n        (i) => (m) =>\n          !i + 1 ? m : ''\n      )(0)\n    )\n    // 4. replace all dashed except the first one in value to \"\"\n    .replace(/(?!^)-/g, '')\n\n  let [integer, fraction] = parsedValue.split('.')\n  integer = parseInt(integer, 10)\n  integer = Number.isNaN(integer) ? null : integer\n\n  fraction = parseInt(fraction, 10)\n  fraction = Number.isNaN(fraction) ? null : fraction\n  fraction = fraction !== null ? Number(String(fraction).slice(0, 2)) : null\n\n  return [integer, fraction]\n}\n\nexport const formatPriceNumber = (value = '') => {\n  if (value === null) return ''\n  if (value === 0) return 0\n\n  const parseResult = parseFloatValue(value)\n\n  let integer = parseResult[0]\n  const fraction = parseResult[1]\n\n  if (fraction !== null) {\n    integer = integer === null ? 0 : integer\n  }\n\n  if (integer !== null) {\n    const formattedInteger = String(integer).replace(/(.)(?=(\\d{3})+$)/g, '$1 ')\n    if (fraction !== null) {\n      return `${formattedInteger}.${fraction}`\n    }\n\n    const hasDot = /\\.|,/.test(value)\n    return hasDot ? `${formattedInteger}.` : formattedInteger\n  }\n  return ''\n}\n","import * as Yup from 'yup'\n\nimport {\n  REQUIRED_MESSAGE,\n  VALIDATION_PHONE_ERROR,\n} from '../../constants/errors'\n\nimport { validatePhone } from '../../helpers/validators'\nimport { formatNumber } from '../../helpers/formatters'\n\nexport const CalculateSchema = Yup.object({\n  fio: Yup.string()\n    .test('validateValueBySurname', 'Введите фамилию', (value) => {\n      if (!value) return true\n      const surname = value.split(' ')?.filter((val) => val.trim())[0]\n      return !!surname\n    })\n    .test('validateValueByName', 'Введите имя', (value) => {\n      if (!value) return true\n      const name = value.split(' ').filter((val) => val.trim())[1]\n      return !!name\n    })\n    .required(REQUIRED_MESSAGE),\n  phone: Yup.string()\n    .test('checkPhone', VALIDATION_PHONE_ERROR, (value) => {\n      if (!value) return true\n      return validatePhone(formatNumber(value))\n    })\n    .required(REQUIRED_MESSAGE),\n  serialNumber: Yup.string().test(\n    'checkSerialNumber',\n    REQUIRED_MESSAGE,\n    (value, schema) => {\n      const withPassportData = schema.parent.withPassportData\n\n      if (withPassportData) {\n        return !!value\n      }\n\n      return true\n    }\n  ),\n  monthlySalary: Yup.string().test(\n    'checkMonthlySalary',\n    REQUIRED_MESSAGE,\n    (value, schema) => {\n      const withPassportData = schema.parent.withPassportData\n\n      if (withPassportData) {\n        return !!value\n      }\n\n      return true\n    }\n  ),\n})\n","import React, { useEffect } from 'react'\nimport { Controller, useForm } from 'react-hook-form'\n\nimport { yupResolver } from '@hookform/resolvers/yup'\n\nimport Input from '../../components/Input'\nimport Checkbox from '../../components/Checkbox'\nimport Button from '../../components/Button'\nimport Row from '../../components/Grid/Row'\nimport { Col } from '../../components/Grid'\nimport FormRow from '../../components/FormRow'\nimport { formatPriceNumber } from './helpers'\nimport InputSuggest from '../../components/InputSuggest'\n\nimport { CalculateSchema } from './validationSchema'\n\nconst getFakeOptions = () =>\n  Promise.resolve([\n    {\n      id: 1,\n      name: 'Иванов',\n      data: {\n        surname: 'Иванов',\n      },\n    },\n    {\n      id: 2,\n      name: 'Петров',\n      data: {\n        surname: 'Петров',\n      },\n    },\n    {\n      id: 3,\n      name: 'Сидоров',\n      data: {\n        surname: 'Сидоров',\n      },\n    },\n  ])\n\nconst ApproximatelyCalculateForm = () => {\n  const { control, handleSubmit, watch, formState } = useForm({\n    shouldFocusError: false,\n    defaultValues: {\n      fio: undefined,\n      phone: undefined,\n      withPassportData: undefined,\n      serialNumber: undefined,\n      monthlySalary: undefined,\n    },\n    resolver: yupResolver(CalculateSchema),\n  })\n\n  const withPassportData = watch('withPassportData')\n\n  useEffect(() => {\n    const isDirtyCheckbox = formState.dirtyFields.withPassportData\n\n    if (!isDirtyCheckbox) {\n      return undefined\n    }\n\n    handleSubmit(onSubmit)()\n  }, [withPassportData, formState.dirtyFields.withPassportData])\n\n  const handleFioChange = (field) => (value, _, data) => {\n    if (data) {\n      return field.onChange(`${data.surname} `)\n    }\n\n    field.onChange(value)\n  }\n\n  const onSubmit = (data) => {\n    console.log('success submitted ->', data)\n  }\n\n  return (\n    <div>\n      <h1>Примерный расчёт</h1>\n\n      <form onSubmit={handleSubmit(onSubmit)} onBlur={handleSubmit(onSubmit)}>\n        <FormRow>\n          <Row>\n            <Col>\n              <Controller\n                control={control}\n                name=\"fio\"\n                render={({ field, fieldState }) => (\n                  <InputSuggest\n                    {...field}\n                    onChange={handleFioChange(field)}\n                    label=\"ФИО*\"\n                    error={fieldState.error?.message}\n                    getOptionsMethod={getFakeOptions}\n                  />\n                )}\n              />\n            </Col>\n\n            <Col>\n              <Controller\n                name=\"phone\"\n                control={control}\n                render={({ field, fieldState }) => (\n                  <Input\n                    {...field}\n                    error={fieldState.error?.message}\n                    label=\"Телефон*\"\n                    mask=\"+7 (999) 999-99-99\"\n                  />\n                )}\n              />\n            </Col>\n          </Row>\n        </FormRow>\n\n        <FormRow>\n          <Controller\n            name=\"withPassportData\"\n            control={control}\n            render={({ field }) => (\n              <Checkbox {...field} checked={field.value}>\n                По паспорту\n              </Checkbox>\n            )}\n          />\n        </FormRow>\n\n        {withPassportData && (\n          <>\n            <FormRow>\n              <Controller\n                shouldUnregister={!withPassportData}\n                name=\"serialNumber\"\n                control={control}\n                render={({ field, fieldState }) => (\n                  <Input\n                    {...field}\n                    error={fieldState.error?.message}\n                    label=\"Серия и номер паспорта*\"\n                    mask=\"9999 999999\"\n                  />\n                )}\n              />\n            </FormRow>\n\n            <FormRow>\n              <Controller\n                shouldUnregister={!withPassportData}\n                name=\"monthlySalary\"\n                control={control}\n                render={({ field, fieldState }) => (\n                  <Input\n                    {...field}\n                    error={fieldState.error?.message}\n                    label=\"Ежемесячный доход*\"\n                    onChange={(value) => {\n                      field.onChange(formatPriceNumber(value))\n                    }}\n                  />\n                )}\n              />\n            </FormRow>\n          </>\n        )}\n\n        <Row>\n          <Col />\n          <Col>\n            <Button variant=\"primary\">Отправить</Button>\n          </Col>\n        </Row>\n      </form>\n    </div>\n  )\n}\n\nexport default ApproximatelyCalculateForm\n","import PropTypes from 'prop-types'\n\nimport styles from './styles.module.scss'\n\nfunction Row(props) {\n  const { children } = props\n\n  return <div className={styles.Row}>{children}</div>\n}\n\nRow.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n}\nRow.defaultProps = {\n  children: null,\n}\n\nexport default Row\n","import PropTypes from 'prop-types'\n\nimport styles from './styles.module.scss'\n\nfunction Col(props) {\n  const { children } = props\n\n  return <div className={styles.Col}>{children}</div>\n}\n\nCol.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n}\nCol.defaultProps = {\n  children: null,\n}\n\nexport default Col\n","import PropTypes from 'prop-types'\n\nimport styles from './styles.module.scss'\n\nfunction FormRow(props) {\n  const { children } = props\n\n  return <div className={styles.FormRow}>{children}</div>\n}\n\nFormRow.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n}\nFormRow.defaultProps = {\n  children: null,\n}\n\nexport default FormRow\n","import PropTypes from 'prop-types'\nimport cn from 'classnames'\n\nimport styles from './styles.module.scss'\n\nfunction Button(props) {\n  const { children, variant, ...otherProps } = props\n\n  const className = cn(styles.Button, styles[`Button_variant_${variant}`])\n\n  return (\n    <button {...otherProps} className={className}>\n      {children}\n    </button>\n  )\n}\n\nButton.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n  variant: PropTypes.oneOf(['default', 'primary']),\n}\nButton.defaultProps = {\n  variant: 'default',\n}\n\nexport default Button\n","export const ERROR_MESSAGE_INVALID_EMAIL =\n  'Введите e-mail в формате example@example.com'\nexport const REQUIRED_MESSAGE = 'Обязательное поле'\n\nexport const VALIDATION_PHONE_ERROR =\n  'Введите телефон в формате +7 (999) 999-99-99'\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"styles_Row__3p-fl\",\"Col\":\"styles_Col__2F8Kj\"};","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport cn from 'classnames'\n\n// Components\nimport Input from '../Input'\nimport Suggest from '../Suggest'\n\nimport styles from './styles.module.scss'\n\nconst KEY_UP = 38\nconst KEY_DOWN = 40\nconst KEY_ENTER = 13\nconst KEY_ESC = 27\nconst SUGGEST_CLOSING_DELAY = 200\nconst SUGGEST_GET_OPTIONS_DELAY = 200\n\nconst removeBackslash = (value) =>\n  typeof value === 'string' ? value.replace(/\\\\/g, '') : value\n\nclass InputSuggest extends Component {\n  constructor(props) {\n    super(props)\n    this._getOptionsTimeout = null\n\n    this.state = {\n      activeOptionId: null,\n      isGettingOptions: false,\n      isSuggestWrapperVisible: false,\n      options: [],\n    }\n\n    this.handleInputBlur = this.handleInputBlur.bind(this)\n    this.handleInputChange = this.handleInputChange.bind(this)\n    this.handleInputFocus = this.handleInputFocus.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n    this.handleSuggestChange = this.handleSuggestChange.bind(this)\n    this.handleSuggestItemHover = this.handleSuggestItemHover.bind(this)\n    this.callGetOptions = this.callGetOptions.bind(this)\n    this.getOptions = this.getOptions.bind(this)\n    this.makeNextSuggestOptionActive =\n      this.makeNextSuggestOptionActive.bind(this)\n    this.makePrevSuggestOptionActive =\n      this.makePrevSuggestOptionActive.bind(this)\n    this.scrollToActiveOption = this.scrollToActiveOption.bind(this)\n    this.suggestClose = this.suggestClose.bind(this)\n    this.suggestOpen = this.suggestOpen.bind(this)\n    this.blur = this.blur.bind(this)\n    this.focus = this.focus.bind(this)\n  }\n\n  // Input handlers\n  handleInputBlur(props) {\n    const { onBlur } = this.props\n    setTimeout(() => {\n      this.suggestClose()\n      this.setState({ activeOptionId: null, options: [] })\n      onBlur(props)\n    }, SUGGEST_CLOSING_DELAY)\n  }\n\n  handleInputChange(value) {\n    const valueFormat = removeBackslash(value)\n    const { onChange, minLengthToCallGet } = this.props\n    onChange(valueFormat, this.props)\n    if (valueFormat && valueFormat.length >= minLengthToCallGet) {\n      this.callGetOptions(valueFormat)\n    } else {\n      this.suggestClose()\n      this.setState({ activeOptionId: null, options: [] })\n    }\n  }\n\n  handleInputFocus() {\n    const { value, minLengthToCallGet, onFocus } = this.props\n    if (value && value.length >= minLengthToCallGet) {\n      this.callGetOptions(value)\n    }\n    onFocus(this.props)\n  }\n\n  handleKeyDown(e) {\n    const { isGettingOptions } = this.state\n    if (isGettingOptions) {\n      return false\n    }\n    const { onEnter, value } = this.props\n    const { activeOptionId, isSuggestWrapperVisible, options } = this.state\n\n    switch (e.keyCode) {\n      case KEY_DOWN:\n        e.preventDefault()\n        if (isSuggestWrapperVisible) {\n          this.makeNextSuggestOptionActive()\n        }\n        break\n      case KEY_UP:\n        e.preventDefault()\n        if (isSuggestWrapperVisible) {\n          this.makePrevSuggestOptionActive()\n        }\n        break\n      case KEY_ENTER:\n        e.preventDefault()\n\n        // Саджест открыт\n        if (isSuggestWrapperVisible) {\n          const activeOption = options.find((o) => o.id === activeOptionId)\n          // И есть выбранная опция\n          if (activeOption) {\n            this.handleSuggestChange(activeOption)\n          } else {\n            onEnter(value, false, this.props)\n          }\n          this.suggestClose()\n        } else {\n          onEnter(value, false, this.props)\n        }\n        this.inputWrapper.querySelector('input').blur()\n\n        break\n      case KEY_ESC:\n        this.handleInputBlur()\n        break\n      default:\n        break\n    }\n    return undefined\n  }\n\n  // Suggest handlers\n  handleSuggestChange({ name, data = {} }) {\n    const nameFormat = removeBackslash(name)\n    const { onChange, onEnter } = this.props\n    onChange(nameFormat, this.props, data)\n    onEnter(nameFormat, true, this.props, data)\n  }\n\n  handleSuggestItemHover({ id }) {\n    this.setState({ activeOptionId: id })\n  }\n\n  /* eslint-disable */\n  // Options methods\n  callGetOptions(value) {\n    if (this._getOptionsTimeout) {\n      clearTimeout(this._getOptionsTimeout)\n    }\n    this._getOptionsTimeout = setTimeout(() => {\n      this.getOptions(value)\n    }, SUGGEST_GET_OPTIONS_DELAY)\n  }\n  /* eslint-enable */\n\n  getOptions(value) {\n    this.setState({ isGettingOptions: true })\n    const { getOptionsMethod, optionsToShow } = this.props\n\n    getOptionsMethod(value, optionsToShow)\n      .then((options) => {\n        let stateProps = {\n          activeOptionId: null,\n          isGettingOptions: false,\n          options,\n        }\n        if (options.length > 0) {\n          this.suggestOpen()\n          // Если список опций в \"саджесте\" НЕ пустой,\n          // то выбираем первую опцию в качестве activeOptionId\n          stateProps = {\n            ...stateProps,\n            activeOptionId: options[0].id,\n          }\n        }\n        this.setState(stateProps, () => {\n          this.scrollToActiveOption()\n        })\n      })\n      .catch(() => {\n        this.setState({\n          activeOptionId: null,\n          isGettingOptions: false,\n          options: [],\n        })\n      })\n  }\n\n  makeNextSuggestOptionActive() {\n    const { options, activeOptionId } = this.state\n\n    let activeOptionIndex = options.findIndex((o) => o.id === activeOptionId)\n    if (activeOptionIndex === -1) {\n      activeOptionIndex = 0\n    } else if (activeOptionIndex + 1 < options.length) {\n      activeOptionIndex += 1\n    }\n    this.setState({ activeOptionId: options[activeOptionIndex].id }, () => {\n      this.scrollToActiveOption()\n    })\n  }\n\n  makePrevSuggestOptionActive() {\n    const { options, activeOptionId } = this.state\n\n    let activeOptionIndex = options.findIndex((o) => o.id === activeOptionId)\n    if (activeOptionIndex > 0) {\n      activeOptionIndex -= 1\n      this.setState({ activeOptionId: options[activeOptionIndex].id }, () => {\n        this.scrollToActiveOption()\n      })\n    }\n  }\n\n  scrollToActiveOption() {\n    const { activeOptionId } = this.state\n    const activeOptionDOM = this.element.querySelector(\n      `#select_box_option_${activeOptionId}`\n    )\n    const suggestListDOM = this.suggest.querySelector('ul')\n\n    if (activeOptionDOM && suggestListDOM) {\n      const activeOptionClientRect = activeOptionDOM.getBoundingClientRect()\n      const suggestListClientRect = suggestListDOM.getBoundingClientRect()\n      const suggestClientRect = this.suggest.getBoundingClientRect()\n\n      // вышли ЗА ВЕРХНЮЮ границу контейнера\n      const isActiveOptionOutOfTheBoxTop =\n        activeOptionClientRect.top < suggestClientRect.top\n\n      // вышли ЗА НИЖНЮЮ границу контейнера\n      const isActiveOptionOutOfTheBoxBottom =\n        activeOptionClientRect.top + activeOptionClientRect.height >\n        suggestClientRect.top + suggestClientRect.height\n\n      if (isActiveOptionOutOfTheBoxTop) {\n        // прокручиваем активный элемент К ВЕРХУ контейнера\n        const scrollTop = activeOptionClientRect.top - suggestListClientRect.top\n        this.suggest.scrollTop = scrollTop\n      } else if (isActiveOptionOutOfTheBoxBottom) {\n        // прокручиваем активный элемент К НИЗУ контейнера\n        const scrollTop =\n          activeOptionClientRect.top -\n          suggestListClientRect.top -\n          (suggestClientRect.height - activeOptionClientRect.height)\n        this.suggest.scrollTop = scrollTop\n      }\n    }\n  }\n\n  // Suggest methods\n  suggestClose() {\n    this.setState({\n      activeOptionId: null,\n      isSuggestWrapperVisible: false,\n    })\n  }\n\n  suggestOpen() {\n    this.setState({ isSuggestWrapperVisible: true })\n  }\n\n  // Input methods\n  blur() {\n    this.input.blur()\n  }\n\n  focus() {\n    this.input.focus()\n  }\n\n  render() {\n    const {\n      error,\n      label,\n      minLengthToCallGet,\n      optionsToShow,\n      value,\n      formatOption,\n      getOptionsMethod,\n      onBlur,\n      onChange,\n      onEnter,\n      onFocus,\n      ...inputProps\n    } = this.props\n\n    const { activeOptionId, isSuggestWrapperVisible, options } = this.state\n\n    const componentClass = styles.InputSuggest\n\n    const inputClass = styles.InputSuggest__Input\n\n    const suggestWrapperClass = cn(styles.InputSuggest__SuggestWrapper, {\n      [styles.InputSuggest__SuggestWrapper_visible]:\n        isSuggestWrapperVisible && options.length > 0,\n    })\n\n    const suggestClass = styles.InputSuggest__Suggest\n\n    return (\n      <div\n        ref={(el) => {\n          this.element = el\n          return this.element\n        }}\n        className={componentClass}\n      >\n        <div\n          className={inputClass}\n          ref={(el) => {\n            this.inputWrapper = el\n            return this.inputWrapper\n          }}\n        >\n          <Input\n            error={error}\n            label={label}\n            ref={(el) => {\n              this.input = el\n              return this.input\n            }}\n            value={value}\n            onBlur={this.handleInputBlur}\n            onChange={this.handleInputChange}\n            onFocus={this.handleInputFocus}\n            onKeyDown={this.handleKeyDown}\n            {...inputProps}\n          />\n        </div>\n        <div className={suggestWrapperClass}>\n          <div\n            className={suggestClass}\n            ref={(el) => {\n              this.suggest = el\n              return this.suggest\n            }}\n          >\n            <Suggest\n              activeOptionId={activeOptionId}\n              optionSearchMask={value}\n              options={options}\n              value={value}\n              formatOption={formatOption}\n              onChange={this.handleSuggestChange}\n              onItemHover={this.handleSuggestItemHover}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nInputSuggest.propTypes = {\n  error: PropTypes.string,\n  label: PropTypes.string.isRequired,\n  minLengthToCallGet: PropTypes.number,\n  optionsToShow: PropTypes.number,\n  value: PropTypes.string,\n\n  formatOption: PropTypes.func,\n  getOptionsMethod: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onEnter: PropTypes.func,\n  onFocus: PropTypes.func,\n}\n\nInputSuggest.defaultProps = {\n  error: null,\n  label: null,\n  minLengthToCallGet: 2,\n  optionsToShow: 5,\n  value: null,\n\n  formatOption: (name, option) => name,\n  getOptionsMethod: (query, count) => Promise.resolve([]),\n  onBlur: (props) => {},\n  onChange: (name, props, data) => {},\n  onEnter: (value, fromSuggest, props, data) => {},\n  onFocus: (props) => {},\n}\n\nexport default InputSuggest\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FormRow\":\"styles_FormRow__1xnvt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"styles_Input__18MvC\",\"Input__Label\":\"styles_Input__Label__3eMsY\",\"Input__LabelText\":\"styles_Input__LabelText__1pkll\",\"Input__LabelText_top\":\"styles_Input__LabelText_top__3UohT\",\"Input__Input\":\"styles_Input__Input__25z1j\",\"Input__Input_error\":\"styles_Input__Input_error__161xf\",\"Input__Error\":\"styles_Input__Error__2huak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"styles_Button__1Ekk8\",\"Button_variant_default\":\"styles_Button_variant_default__3GtCQ\",\"Button_variant_primary\":\"styles_Button_variant_primary__G0dsg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputSuggest\":\"styles_InputSuggest__2A8yc\",\"InputSuggest__Input\":\"styles_InputSuggest__Input__3M6I2\",\"InputSuggest__SuggestWrapper\":\"styles_InputSuggest__SuggestWrapper__2oTlG\",\"InputSuggest__SuggestWrapper_closing\":\"styles_InputSuggest__SuggestWrapper_closing__2dtNH\",\"InputSuggest__SuggestWrapper_opening\":\"styles_InputSuggest__SuggestWrapper_opening__1rdBj\",\"InputSuggest__SuggestWrapper_visible\":\"styles_InputSuggest__SuggestWrapper_visible__7InKm\",\"InputSuggest__Suggest\":\"styles_InputSuggest__Suggest__23iYc\"};","export const formatNumber = (value) => {\n  return String(value).replace(/\\D/g, '')\n}\n","export const PHONE_REGEXP = /^7[\\d]{10}$/\n","import { PHONE_REGEXP } from '../constants/regexps'\n\nexport const validatePhone = (value) => PHONE_REGEXP.test(value)\n","import PropTypes from 'prop-types'\nimport cn from 'classnames'\n\nimport styles from './option.module.scss'\n\nfunction Option(props) {\n  const { children, id, isActive, isValue, onClick, onMouseOver } = props\n\n  // Handlers\n  function handleClick(e) {\n    e.preventDefault()\n    onClick(id)\n  }\n  function handleMouseOver() {\n    onMouseOver(id)\n  }\n\n  const componentClass = cn(styles.Option, {\n    [styles.Option_active]: isActive,\n    [styles.Option_value]: isValue,\n  })\n\n  return (\n    <div\n      className={componentClass}\n      id={`select_box_option_${id}`}\n      onClick={handleClick}\n      onMouseOver={handleMouseOver}\n    >\n      {children}\n    </div>\n  )\n}\n\nOption.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  isActive: PropTypes.bool,\n  isValue: PropTypes.bool,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n}\nOption.defaultProps = {\n  children: null,\n  id: null,\n  isActive: false,\n  isValue: false,\n  onClick: (id) => {},\n  onMouseOver: (id) => {},\n}\n\nexport default Option\n","import PropTypes from 'prop-types'\n\n// Components\nimport Option from './option'\n\nimport styles from './suggest.module.scss'\n\nfunction Suggest(props) {\n  const {\n    activeOptionId,\n    optionSearchMask,\n    options,\n    value,\n    formatOption,\n    onChange,\n    onItemHover,\n  } = props\n\n  // Handlers\n  function handleOptionClick(id) {\n    onChange(options.find((o) => o.id === id))\n  }\n\n  function handleMouseOver(id) {\n    onItemHover(options.find((o) => o.id === id))\n  }\n\n  const optionSearchMaskPrepared = optionSearchMask\n    ? optionSearchMask\n        .trim()\n        .replace(\n          /(\\*|\\.|\\+|\\{|\\}|\\(|\\)|\\$|\\?|\\^|\\[|\\]|;|:|,|\\/|-|_|=)/g,\n          '\\\\$1'\n        )\n    : null\n\n  return (\n    <div className={styles.Suggest}>\n      <ul className={styles.Suggest__Options}>\n        {options.map((option) => {\n          const { id, name = '' } = option\n\n          let nameWithHighlights = [name]\n          if (optionSearchMaskPrepared) {\n            const regexp = new RegExp(optionSearchMaskPrepared, 'ig')\n            const match = name.match(regexp)\n\n            if (Array.isArray(match)) {\n              const nameParts = name.split(regexp)\n              nameWithHighlights = []\n\n              let matchIndex = 0\n              nameParts.forEach((part) => {\n                nameWithHighlights.push(part)\n                if (matchIndex < match.length) {\n                  nameWithHighlights.push(\n                    <i key={matchIndex}>{match[matchIndex]}</i>\n                  )\n                  matchIndex += 1\n                }\n              })\n            }\n          }\n\n          return (\n            <li key={id} className={styles.Suggest__Option}>\n              <Option\n                id={id}\n                isActive={id === activeOptionId}\n                isValue={id === value}\n                onClick={handleOptionClick}\n                onMouseOver={handleMouseOver}\n              >\n                {formatOption(nameWithHighlights, option)}\n              </Option>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n  )\n}\n\nSuggest.propTypes = {\n  activeOptionId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  optionSearchMask: PropTypes.string,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      data: PropTypes.shape({}),\n      id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n      name: PropTypes.string,\n    })\n  ),\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  formatOption: PropTypes.func,\n  onChange: PropTypes.func,\n  onItemHover: PropTypes.func,\n}\nSuggest.defaultProps = {\n  activeOptionId: null,\n  optionSearchMask: '',\n  options: [],\n  value: null,\n  formatOption: (name, option) => name,\n  onChange: (option) => {},\n  onItemHover: (option) => {},\n}\n\nexport default Suggest\n","import Suggest from './suggest'\nexport default Suggest\n","import Col from './Col'\nimport Row from './Row'\n\nexport { Col, Row }\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Option\":\"option_Option__3hi2U\",\"Option_active\":\"option_Option_active__1-Hnb\",\"Option_value\":\"option_Option_value__1F3n1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Suggest__Options\":\"suggest_Suggest__Options__3X_hr\",\"Suggest__Option\":\"suggest_Suggest__Option__1Dcnd\"};","import PropTypes from 'prop-types'\nimport cn from 'classnames'\n\nimport styles from './styles.module.scss'\n\nfunction Checkbox(props) {\n  const { checked, children, onChange, ...otherProps } = props\n\n  // Handlers\n  function handleChange(e) {\n    onChange(e.target.checked, props)\n  }\n\n  const labelClass = cn(styles.Checkbox__Label, {\n    [styles.Checkbox__Label_checked]: checked,\n  })\n\n  return (\n    <div className={styles.Checkbox}>\n      <label className={labelClass}>\n        <input\n          {...otherProps}\n          checked={checked}\n          type=\"checkbox\"\n          onChange={handleChange}\n        />\n        {children}\n      </label>\n    </div>\n  )\n}\n\nCheckbox.propTypes = {\n  checked: PropTypes.bool,\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n  onChange: PropTypes.func,\n}\nCheckbox.defaultProps = {\n  checked: false,\n  onChange: (checked, props) => {},\n}\n\nexport default Checkbox\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Checkbox\":\"styles_Checkbox__FLcPe\",\"Checkbox__Label\":\"styles_Checkbox__Label__1L6CP\",\"Checkbox__Label_checked\":\"styles_Checkbox__Label_checked__2k729\"};"],"sourceRoot":""}