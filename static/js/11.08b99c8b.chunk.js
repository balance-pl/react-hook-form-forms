(this["webpackJsonpreact-hook-form-forms"]=this["webpackJsonpreact-hook-form-forms"]||[]).push([[11],{108:function(e,t,n){"use strict";n.r(t),n.d(t,"isExistDadata",(function(){return v}));var a=n(9),i=(n(0),n(30)),s=n(40),o=n(36),r=n(32),c=n(28),l=n(26),u=n(27),d=n(25),g=n(29),p=n(39),h=n(34),b=n(1),j=function(){return Promise.resolve([{id:1,name:"\u0421\u0432\u0435\u0440\u0445 \u0420\u0430\u0437\u0443\u043c",data:{legalAddress:"\u0433. \u041a\u0430\u043b\u0438\u043d\u0438\u043d\u0433\u0440\u0430\u0434, \u0443\u043b. \u041b\u0435\u043d\u0438\u043d\u0430, \u0434.124",ogrn:"1238213818238128318",kpp:"12391919239123912391923",inn:"19934923942934",ceoFio:"\u0421\u0432\u0435\u0440\u0445 \u0420\u0430\u0437\u0443\u043c \u0420\u0430\u0437\u0443\u043c\u043e\u0432\u0438\u0447"}},{id:2,name:"\u0414\u0436\u043e \u0420\u043e\u0433\u0430\u043d",data:{legalAddress:"\u0433. \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u0443\u043b. \u041f\u043e\u0439\u043c\u0435\u043d\u043d\u0430\u044f, \u0434.22",ogrn:"23942934923942934",kpp:"39429348234828348",inn:"93429349239423949234",ceoFio:"\u0414\u0436\u043e \u0420\u043e\u0433\u0430\u043d \u041f\u043e\u0434\u043a\u0430\u0441\u0442\u043e\u0432\u0438\u0447"}}])},O=o.b({email:o.c().required(h.b),password:o.c().required(h.b),nameOfTheLegalEntity:o.c().required(h.b),phone:o.c().required(h.b),ogrn:o.c().required(h.b)}),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e&&Object.keys(e).length>0};t.default=function(){var e=Object(i.f)({mode:"onChange",defaultValues:{email:void 0,password:void 0,nameOfTheLegalEntity:void 0,legalAddress:void 0,phone:void 0,ogrn:void 0,kpp:void 0,inn:void 0,ceoFio:void 0},resolver:Object(s.a)(O)}),t=e.control,n=e.handleSubmit,o=e.setValue,h=function(e){return function(t,n,a){v(a)&&(o("legalAddress",a.legalAddress),o("ogrn",a.ogrn,{shouldValidate:!0}),o("kpp",a.kpp),o("inn",a.inn),o("ceoFio",a.ceoFio)),e.onChange(t)}};return Object(b.jsxs)("div",{children:[Object(b.jsx)(r.a,{size:2,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(b.jsxs)("form",{onSubmit:n((function(e){console.log("success send -> ",e)})),children:[Object(b.jsx)(c.a,{children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(u.a,{children:Object(b.jsx)(i.a,{control:t,name:"email",render:function(e){var t,n=e.field,i=e.fieldState;return Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},n),{},{label:"Email *",error:null===(t=i.error)||void 0===t?void 0:t.message}))}})}),Object(b.jsx)(u.a,{children:Object(b.jsx)(i.a,{control:t,name:"password",render:function(e){var t,n=e.field,i=e.fieldState;return Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},n),{},{label:"\u041f\u0430\u0440\u043e\u043b\u044c *",error:null===(t=i.error)||void 0===t?void 0:t.message}))}})})]})}),Object(b.jsx)(c.a,{children:Object(b.jsx)(i.a,{control:t,name:"nameOfTheLegalEntity",render:function(e){var t,n=e.field,i=e.fieldState;return Object(b.jsx)(p.a,Object(a.a)(Object(a.a)({},n),{},{getOptionsMethod:j,onChange:h(n),label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044e\u0440. \u043b\u0438\u0446\u0430 *",error:null===(t=i.error)||void 0===t?void 0:t.message}))}})}),Object(b.jsx)(c.a,{children:Object(b.jsx)(i.a,{control:t,name:"legalAddress",render:function(e){var t,n=e.field,i=e.fieldState;return Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},n),{},{error:null===(t=i.error)||void 0===t?void 0:t.message,label:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"}))}})}),Object(b.jsxs)(c.a,{children:[Object(b.jsx)(u.a,{children:Object(b.jsx)(i.a,{name:"phone",control:t,render:function(e){var t,n=e.field,i=e.fieldState;return Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},n),{},{mask:"+7 (999) 999-99-99",error:null===(t=i.error)||void 0===t?void 0:t.message,label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d *"}))}})}),Object(b.jsx)(u.a,{})]}),Object(b.jsx)(c.a,{children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(u.a,{children:Object(b.jsx)(i.a,{control:t,name:"ogrn",render:function(e){var t,n=e.field,i=e.fieldState;return Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},n),{},{mask:"9999 99999 9999 9999",error:null===(t=i.error)||void 0===t?void 0:t.message,label:"\u041e\u0413\u0420\u041d"}))}})}),Object(b.jsx)(u.a,{children:Object(b.jsx)(i.a,{control:t,name:"kpp",render:function(e){var t,n=e.field,i=e.fieldState;return Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},n),{},{mask:"999999999999",error:null===(t=i.error)||void 0===t?void 0:t.message,label:"\u041a\u041f\u041f"}))}})})]})}),Object(b.jsx)(c.a,{children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(u.a,{children:Object(b.jsx)(i.a,{control:t,name:"inn",render:function(e){var t,n=e.field,i=e.fieldState;return Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},n),{},{mask:"999999999999",error:null===(t=i.error)||void 0===t?void 0:t.message,label:"\u0418\u041d\u041d"}))}})}),Object(b.jsx)(u.a,{children:Object(b.jsx)(i.a,{control:t,name:"ceoFio",render:function(e){var t,n=e.field,i=e.fieldState;return Object(b.jsx)(d.a,Object(a.a)(Object(a.a)({},n),{},{error:null===(t=i.error)||void 0===t?void 0:t.message,label:"\u0424\u0418\u041e \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430"}))}})})]})}),Object(b.jsxs)(l.a,{children:[Object(b.jsx)(u.a,{}),Object(b.jsx)(u.a,{children:Object(b.jsx)(g.a,{variant:"primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})})]})]})]})}},214:function(e,t,n){e.exports={Checkbox:"styles_Checkbox__FLcPe",Checkbox__Label:"styles_Checkbox__Label__1L6CP",Checkbox__Label_checked:"styles_Checkbox__Label_checked__2k729"}},225:function(e,t,n){"use strict";n.r(t);var a=n(9),i=(n(0),n(30)),s=n(40),o=n(36),r=n(32),c=n(28),l=n(39),u=n(6),d=n(22),g=n(12),p=n.n(g),h=n(214),b=n.n(h),j=n(1),O=["checked","children","onChange"];function v(e){var t=e.checked,n=e.children,i=e.onChange,s=Object(d.a)(e,O);var o=p()(b.a.Checkbox__Label,Object(u.a)({},b.a.Checkbox__Label_checked,t));return Object(j.jsx)("div",{className:b.a.Checkbox,children:Object(j.jsxs)("label",{className:o,children:[Object(j.jsx)("input",Object(a.a)(Object(a.a)({},s),{},{checked:t,type:"checkbox",onChange:function(t){i(t.target.checked,e)}})),n]})})}v.defaultProps={checked:!1,onChange:function(e,t){}};var f=v,m=n(63),x=n(26),S=n(27),_=n(29),k=n(108),I=n(34),C=function(){return Promise.resolve([{id:1,name:"\u0433. \u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0422\u0432\u0435\u0440\u0441\u043a\u0430\u044f, \u0434.123",data:{house:123,street:"\u0422\u0432\u0435\u0440\u0441\u043a\u0430\u044f",city:"\u041c\u043e\u0441\u043a\u0432\u0430"}},{id:2,name:"\u0433. \u041a\u0430\u043b\u0438\u043d\u0438\u043d\u0433\u0440\u0430\u0434, \u0443\u043b. \u041a\u0430\u043a\u0430\u044f-\u0442\u043e, \u0434.12",data:{house:12,street:"\u041a\u0430\u043a\u0430\u044f-\u0442\u043e",city:"\u041a\u0430\u043b\u0438\u043d\u0438\u043d\u0433\u0440\u0430\u0434"}}])},y=[{id:1,name:"\u0410\u0440\u0435\u043d\u0434\u0430"},{id:2,name:"\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0443 \u0440\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u043e\u0432"}],T=Object(o.b)().test("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0430\u0434\u0440\u0435\u0441\u0430 \u043f\u043e \u043d\u0430\u043b\u0438\u0447\u0438\u044e \u0434\u0430\u0434\u0430\u0442\u044b","\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0438\u0437 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438",(function(e){var t=e.value,n=e.dadata;return!t||Object(k.isExistDadata)(n)})),A=o.b({people:o.a().of(o.b().shape({reasonOfLiving:o.c().when(["realAddress"],{is:function(e){var t=e.value;return Boolean(t)},then:o.c().required(I.b),otherwise:o.c()}),addressRegistration:T,realAddress:T}))});t.default=function(){var e=Object(i.f)({defaultValues:{people:[{addressRegistration:{value:void 0,dadata:void 0},realAddress:{value:void 0,dadata:void 0},areTheSameAddresses:!1},{addressRegistration:{value:void 0,dadata:void 0},realAddress:{value:void 0,dadata:void 0},areTheSameAddresses:!1}]},resolver:Object(s.a)(A)}),t=e.control,n=e.handleSubmit,o=e.watch,u=Object(i.e)({control:t,name:"people"}).fields,d=function(e){return function(t,n,a){e.onChange({value:t,dadata:a})}};return Object(j.jsxs)("div",{children:[Object(j.jsx)(r.a,{size:1,children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),Object(j.jsxs)("form",{onSubmit:n((function(e){console.log("success submit -> ",e)})),children:[u.map((function(e,n){var s=o("people.".concat(n,".areTheSameAddresses"));return Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{children:Object(j.jsx)(i.a,{name:"people.".concat(n,".addressRegistration"),control:t,render:function(e){var t,n=e.field,i=e.fieldState;return Object(j.jsx)(l.a,Object(a.a)(Object(a.a)({},n),{},{getOptionsMethod:C,onChange:d(n),value:n.value.value,error:null===(t=i.error)||void 0===t?void 0:t.message,label:"\u0410\u0434\u0440\u0435\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"}))}})}),Object(j.jsx)(c.a,{children:Object(j.jsx)(i.a,{name:"people.".concat(n,".areTheSameAddresses"),control:t,render:function(e){var t=e.field;return Object(j.jsx)(f,Object(a.a)(Object(a.a)({},t),{},{checked:t.value,children:"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u0430\u0434\u0440\u0435\u0441\u043e\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"}))}})}),!s&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(c.a,{children:Object(j.jsx)(i.a,{name:"people.".concat(n,".realAddress"),control:t,render:function(e){var t,n,i=e.field,s=e.fieldState;return Object(j.jsx)(l.a,Object(a.a)(Object(a.a)({},i),{},{getOptionsMethod:C,onChange:d(i),value:null===(t=i.value)||void 0===t?void 0:t.value,error:null===(n=s.error)||void 0===n?void 0:n.message,label:"\u0410\u0434\u0440\u0435\u0441 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f"}))}})}),Object(j.jsx)(c.a,{children:Object(j.jsx)(i.a,{name:"people.".concat(n,".reasonOfLiving"),control:t,render:function(e){var t,n=e.field,i=e.fieldState;return Object(j.jsx)(m.a,Object(a.a)(Object(a.a)({},n),{},{options:y,error:null===(t=i.error)||void 0===t?void 0:t.message,label:"\u041e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f"}))}})})]}),u.length!==n+1&&Object(j.jsx)("hr",{style:{margin:"30px 0"}})]},n)})),Object(j.jsxs)(x.a,{children:[Object(j.jsx)(S.a,{}),Object(j.jsx)(S.a,{children:Object(j.jsx)(_.a,{type:"submit",variant:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})]})}},39:function(e,t,n){"use strict";var a=n(6),i=n(22),s=n(9),o=n(23),r=n(24),c=n(42),l=n(31),u=n(33),d=n(0),g=n(12),p=n.n(g),h=n(25),b=n(49),j=n(47),O=n.n(j),v=n(1),f=["error","label","minLengthToCallGet","optionsToShow","value","formatOption","getOptionsMethod","onBlur","onChange","onEnter","onFocus"],m=function(e){return"string"===typeof e?e.replace(/\\/g,""):e},x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e))._getOptionsTimeout=null,a.state={activeOptionId:null,isGettingOptions:!1,isSuggestWrapperVisible:!1,options:[]},a.handleInputBlur=a.handleInputBlur.bind(Object(c.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(c.a)(a)),a.handleInputFocus=a.handleInputFocus.bind(Object(c.a)(a)),a.handleKeyDown=a.handleKeyDown.bind(Object(c.a)(a)),a.handleSuggestChange=a.handleSuggestChange.bind(Object(c.a)(a)),a.handleSuggestItemHover=a.handleSuggestItemHover.bind(Object(c.a)(a)),a.callGetOptions=a.callGetOptions.bind(Object(c.a)(a)),a.getOptions=a.getOptions.bind(Object(c.a)(a)),a.makeNextSuggestOptionActive=a.makeNextSuggestOptionActive.bind(Object(c.a)(a)),a.makePrevSuggestOptionActive=a.makePrevSuggestOptionActive.bind(Object(c.a)(a)),a.scrollToActiveOption=a.scrollToActiveOption.bind(Object(c.a)(a)),a.suggestClose=a.suggestClose.bind(Object(c.a)(a)),a.suggestOpen=a.suggestOpen.bind(Object(c.a)(a)),a.blur=a.blur.bind(Object(c.a)(a)),a.focus=a.focus.bind(Object(c.a)(a)),a}return Object(r.a)(n,[{key:"handleInputBlur",value:function(e){var t=this,n=this.props.onBlur;setTimeout((function(){t.suggestClose(),t.setState({activeOptionId:null,options:[]}),n(e)}),200)}},{key:"handleInputChange",value:function(e){var t=m(e),n=this.props,a=n.onChange,i=n.minLengthToCallGet;a(t,this.props),t&&t.length>=i?this.callGetOptions(t):(this.suggestClose(),this.setState({activeOptionId:null,options:[]}))}},{key:"handleInputFocus",value:function(){var e=this.props,t=e.value,n=e.minLengthToCallGet,a=e.onFocus;t&&t.length>=n&&this.callGetOptions(t),a(this.props)}},{key:"handleKeyDown",value:function(e){if(this.state.isGettingOptions)return!1;var t=this.props,n=t.onEnter,a=t.value,i=this.state,s=i.activeOptionId,o=i.isSuggestWrapperVisible,r=i.options;switch(e.keyCode){case 40:e.preventDefault(),o&&this.makeNextSuggestOptionActive();break;case 38:e.preventDefault(),o&&this.makePrevSuggestOptionActive();break;case 13:if(e.preventDefault(),o){var c=r.find((function(e){return e.id===s}));c?this.handleSuggestChange(c):n(a,!1,this.props),this.suggestClose()}else n(a,!1,this.props);this.inputWrapper.querySelector("input").blur();break;case 27:this.handleInputBlur()}}},{key:"handleSuggestChange",value:function(e){var t=e.name,n=e.data,a=void 0===n?{}:n,i=m(t),s=this.props,o=s.onChange,r=s.onEnter;o(i,this.props,a),r(i,!0,this.props,a)}},{key:"handleSuggestItemHover",value:function(e){var t=e.id;this.setState({activeOptionId:t})}},{key:"callGetOptions",value:function(e){var t=this;this._getOptionsTimeout&&clearTimeout(this._getOptionsTimeout),this._getOptionsTimeout=setTimeout((function(){t.getOptions(e)}),200)}},{key:"getOptions",value:function(e){var t=this;this.setState({isGettingOptions:!0});var n=this.props;(0,n.getOptionsMethod)(e,n.optionsToShow).then((function(e){var n={activeOptionId:null,isGettingOptions:!1,options:e};e.length>0&&(t.suggestOpen(),n=Object(s.a)(Object(s.a)({},n),{},{activeOptionId:e[0].id})),t.setState(n,(function(){t.scrollToActiveOption()}))})).catch((function(){t.setState({activeOptionId:null,isGettingOptions:!1,options:[]})}))}},{key:"makeNextSuggestOptionActive",value:function(){var e=this,t=this.state,n=t.options,a=t.activeOptionId,i=n.findIndex((function(e){return e.id===a}));-1===i?i=0:i+1<n.length&&(i+=1),this.setState({activeOptionId:n[i].id},(function(){e.scrollToActiveOption()}))}},{key:"makePrevSuggestOptionActive",value:function(){var e=this,t=this.state,n=t.options,a=t.activeOptionId,i=n.findIndex((function(e){return e.id===a}));i>0&&(i-=1,this.setState({activeOptionId:n[i].id},(function(){e.scrollToActiveOption()})))}},{key:"scrollToActiveOption",value:function(){var e=this.state.activeOptionId,t=this.element.querySelector("#select_box_option_".concat(e)),n=this.suggest.querySelector("ul");if(t&&n){var a=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=this.suggest.getBoundingClientRect(),o=a.top<s.top,r=a.top+a.height>s.top+s.height;if(o){var c=a.top-i.top;this.suggest.scrollTop=c}else if(r){var l=a.top-i.top-(s.height-a.height);this.suggest.scrollTop=l}}}},{key:"suggestClose",value:function(){this.setState({activeOptionId:null,isSuggestWrapperVisible:!1})}},{key:"suggestOpen",value:function(){this.setState({isSuggestWrapperVisible:!0})}},{key:"blur",value:function(){this.input.blur()}},{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.error,o=t.label,r=(t.minLengthToCallGet,t.optionsToShow,t.value),c=t.formatOption,l=(t.getOptionsMethod,t.onBlur,t.onChange,t.onEnter,t.onFocus,Object(i.a)(t,f)),u=this.state,d=u.activeOptionId,g=u.isSuggestWrapperVisible,j=u.options,m=O.a.InputSuggest,x=O.a.InputSuggest__Input,S=p()(O.a.InputSuggest__SuggestWrapper,Object(a.a)({},O.a.InputSuggest__SuggestWrapper_visible,g&&j.length>0)),_=O.a.InputSuggest__Suggest;return Object(v.jsxs)("div",{ref:function(t){return e.element=t,e.element},className:m,children:[Object(v.jsx)("div",{className:x,ref:function(t){return e.inputWrapper=t,e.inputWrapper},children:Object(v.jsx)(h.a,Object(s.a)({error:n,label:o,ref:function(t){return e.input=t,e.input},value:r,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onKeyDown:this.handleKeyDown},l))}),Object(v.jsx)("div",{className:S,children:Object(v.jsx)("div",{className:_,ref:function(t){return e.suggest=t,e.suggest},children:Object(v.jsx)(b.a,{activeOptionId:d,optionSearchMask:r,options:j,value:r,formatOption:c,onChange:this.handleSuggestChange,onItemHover:this.handleSuggestItemHover})})})]})}}]),n}(d.Component);x.defaultProps={error:null,label:null,minLengthToCallGet:2,optionsToShow:5,value:null,formatOption:function(e,t){return e},getOptionsMethod:function(e,t){return Promise.resolve([])},onBlur:function(e){},onChange:function(e,t,n){},onEnter:function(e,t,n,a){},onFocus:function(e){}},t.a=x},47:function(e,t,n){e.exports={InputSuggest:"styles_InputSuggest__2A8yc",InputSuggest__Input:"styles_InputSuggest__Input__3M6I2",InputSuggest__SuggestWrapper:"styles_InputSuggest__SuggestWrapper__2oTlG",InputSuggest__SuggestWrapper_closing:"styles_InputSuggest__SuggestWrapper_closing__2dtNH",InputSuggest__SuggestWrapper_opening:"styles_InputSuggest__SuggestWrapper_opening__1rdBj",InputSuggest__SuggestWrapper_visible:"styles_InputSuggest__SuggestWrapper_visible__7InKm",InputSuggest__Suggest:"styles_InputSuggest__Suggest__23iYc"}}}]);
//# sourceMappingURL=11.08b99c8b.chunk.js.map